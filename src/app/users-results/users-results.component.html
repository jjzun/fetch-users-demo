<div class="row section">
  <div class="col-md">
    <h3>List of Users</h3>

    <div class="row">
      <div class="input-group mb-3 col-sm">

        <input type="text" class="form-control" (keyup)="filterUsers()" placeholder="Type to look up for a user"
          [(ngModel)]="searchText" aria-label="Example text with button addon" aria-describedby="button-addon1">
        <div class="input-group-prepend">
          <button class="btn btn-outline-secondary" type="button" id="button-addon1">Filter</button>
        </div>
      </div>
    </div>

    <div class="row" *ngIf="!filtering">
      <div class="col-sm-12">
        <p><strong>Number of users: </strong>{{allUsers?.length}} </p>
      </div>

      <div class="row">
        <div *ngFor="let user of allUsers; let i = index" class="col-md-6 col-lg-4">
          <div class="user" (click)="selectUser($event, i)">
            <img [src]="user?.picMedium" class="user__picture img-user-icon">
            <div class="user__details">
              <h2>{{ user?.nameFirst | titlecase}} {{ user?.nameLast | titlecase}}</h2>
              <p>{{ user?.email }}</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row" *ngIf="filtering">
      <div class="col-sm-12">
        <p><strong>Number of users: </strong>{{filteredUsers?.length}} </p>
      </div>
      <div class="row">
        <div *ngFor="let user of filteredUsers | filter : searchText; let i = index" class="col-md-6 col-lg-4">
          <div class="user" (click)="selectUser($event, i)">
            <img [src]="user?.picMedium" class="user__picture img-user-icon">
            <div class="user__details">
              <h2>{{ user?.nameFirst | titlecase}} {{ user?.nameLast | titlecase}}</h2>
              <p>{{ user?.email }}</p>
            </div>
          </div>
        </div>
      </div>
    </div>


  </div>
</div>


<div class="modal left fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true" [ngClass]="{'show': modalUserDetails}">
  <div class="modal-dialog" role="document" [ngClass]="{'show': modalUserDetails}">
    <div class="modal-content">
      <div class="modal-body">
        <div class="nav flex-sm-column flex-row">

          <h3>This is the user you've selected:</h3>
          <img [src]="selectedPic" class="user__picture img-user-icon inside-details">
          <h3>{{ selectedfirstName | titlecase}} {{ selectedLastName | titlecase}}</h3>
          <p><strong>Email: </strong>{{ selectedEmail }}</p>
          <p><strong>Phone: </strong>{{ selectedPhone }}</p>
          <p><strong>Cell: </strong>{{ selectedCell }}</p>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="closeDialog()">Close</button>
      </div>
    </div>
  </div>
</div>